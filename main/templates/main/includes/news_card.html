{% load static %}
<!-- Компонент карточки новости (переиспользуемый) -->
<div class="swiper-slide mxd-demo-swiper__slide">
  <a href="{% url 'news_detail' news.slug %}" class="slide-content">
    <!-- Аватарка и заголовок -->
    <div class="slide-header-row">
      <div class="slide-avatar">
        {% if news.author_photo %}
          <img data-src="{{ news.author_photo.url }}" alt="{{ news.author.username }}" class="avatar-image" loading="lazy">
        {% else %}
          <img data-src="{% static 'images/avatars/default.jpg' %}" alt="Автор" class="avatar-image" loading="lazy">
        {% endif %}
      </div>
      <div class="slide-header">
        <h3 class="slide-header__title">{{ news.title }}</h3>
      </div>
    </div>

    <!-- Краткое описание -->
    <div class="slide-text">
      <p class="slide-text__content">{{ news.desc }}</p>
      <span class="date">{{ news.created_at|date:"d.m.Y" }}</span>
    </div>

    <!-- Фото -->
    <div class="slide-image">
      {% if news.preview_image %}
        <img data-src="{{ news.preview_image.url }}" alt="{{ news.title }}" loading="lazy">
      {% else %}
        <img data-src="{% static 'images/news/placeholder.jpg' %}" alt="{{ news.title }}" loading="lazy">
      {% endif %}
    </div>
  </a>
</div>